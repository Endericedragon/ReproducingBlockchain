# 第五章

实验的假定条件：

1. 在道路上行驶的出租车只有两种情况，即空载和载客。
2. 将一单乘客送到目的地结束后再服务下一单乘客，不考虑合乘的情况。
3. 出租车行驶速度均匀（30km/h==8m/s），忽略交叉口及交通拥挤带来的延误，以及交通状况带来的车速不均匀。
4. 每一条路段均为单方向行驶，将双行道拆分为两条方向相反的单行道。
## 实验方案

可能的实验方案（在方格上做所有实验；在真实数据上做可能的实验）

实验方案的描述主要分为场景、收集数据。

1. **距离计算优化实验：**
    1. 控制参数：是否进行GeoHash的前缀优化
    2. 场景：两点的直线距离为2km、4km、6km、8km、10km、......、20km
    3. 收集数据：
        1. 结果长度
        2. 算法消耗时间
        3. gas消耗量
2. **算法正确性实验：** （无障碍）
    1. 控制参数：启发函数的系数P、启发函数的格子精度Precision
    2. 场景：选取不同的起止点，当起止点的直线距离在2km、5km、10km、15km、20km时，测试不同参数下的实验数据，确定使导航结果准确，并且开销更低的参数
    3. 收集数据：
        1. 路径规划结果的实际路径长度（平均值）
        2. 算法消耗时间（平均值）
        3. 算法遍历的路口个数
        4. 区块链的gas消耗量
2. **导航算法实验：** （偏定性）（无障碍）
    1. 场景：近距离导航和远距离导航的结果展示
    2. 讨论导航算法是否适应高架等复杂的转向环境
    3. 预设正确路径，看导航结果与正确路径是否匹配，若相差，相差多少（在真实地图可做，对比实际车辆的GPS数据轨迹，分析导航路径与真实轨迹的差别）
3. **匹配算法实验：** （用预设的最近距离和实际匹配的距离做对比实验，验证可以利用区块链有效解决匹配冲突问题，同时保证系统匹配结果的可靠性）（找到初始化位置，设置场景）
    1. 匹配到的车辆是否最近、区域匹配到的车辆距离乘客的平均距离、人多车少时的匹配现象、车多人少时的匹配现象
    2. 场景：预设车多人少、人多车少的场景，预先计算好每个人到每个车辆的最近距离，找到每个车乘匹配的最短搭配，统计实际匹配的结果与最短匹配方案的相符性
    3. 统计数据：
        1. 实际匹配的车辆和乘客id，验证不会出现冲突
        2. 实际匹配的车辆和乘客的距离（在一定程度上符合最优的匹配结果）
        3. 匹配的响应时间（在合理范围内）
4. **区块链性能实验：（设置场景）**
    1. 场景：在路口初始化车辆的分布，模拟乘客的请求高峰和低峰，观察系统的表现
    2. 收集数据：
        1. 每个乘客从发出请求到匹配到车辆的时间
        2. 每个车辆在两个订单之间的空车时间
        3. 区块链的gas消耗
5. **传统区块链和树状区块链的对比：（设置场景）**
    1. 场景：全局车辆的调度和进行区域状态查询的车辆调度
    2. 收集数据：
        1. 乘客等待系统匹配到车辆的响应时间
        2. 各个车辆的空车时间、车辆的载客时间
        3. 区块链的gas消耗
 


