
eth.getBalance(eth.accounts[0])
abi = JSON.parse('[{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"geo_maps\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"num\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"gid\",\"type\":\"uint256\"}],\"name\":\"get_onetype\",\"outputs\":[{\"internalType\":\"int32[]\",\"name\":\"feature\",\"type\":\"int32[]\"},{\"internalType\":\"bytes32\",\"name\":\"names\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"highway\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"gtype\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32[]\",\"name\":\"path\",\"type\":\"bytes32[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"}],\"name\":\"get_types\",\"outputs\":[{\"internalType\":\"int32[]\",\"name\":\"feature\",\"type\":\"int32[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"names\",\"type\":\"bytes32[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"highways\",\"type\":\"bytes32[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"gtypes\",\"type\":\"bytes32[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"path\",\"type\":\"bytes32[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"gid\",\"type\":\"uint256\"},{\"internalType\":\"int32\",\"name\":\"minzoom\",\"type\":\"int32\"},{\"internalType\":\"int32\",\"name\":\"cost\",\"type\":\"int32\"},{\"internalType\":\"bool\",\"name\":\"oneway\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"building\",\"type\":\"bool\"},{\"internalType\":\"bytes32\",\"name\":\"highway\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"name\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"gtype\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32[]\",\"name\":\"path\",\"type\":\"bytes32[]\"}],\"name\":\"add_onetype\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"gid\",\"type\":\"uint256\"}],\"name\":\"add_area_line\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]')
bytecode = "0x608060405234801561001057600080fd5b50336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550610e2a806100606000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063113620ec146100675780633fb80582146101475780638da5cb5b146102ea57806397673b7f14610334578063cbf3b01e14610447578063f90e5ca914610489575b600080fd5b6100936004803603602081101561007d57600080fd5b81019080803590602001909291905050506104c1565b604051808060200186815260200185815260200184815260200180602001838103835288818151815260200191508051906020019060200280838360005b838110156100ec5780820151818401526020810190506100d1565b50505050905001838103825284818151815260200191508051906020019060200280838360005b8381101561012e578082015181840152602081019050610113565b5050505090500197505050505050505060405180910390f35b6101736004803603602081101561015d57600080fd5b81019080803590602001909291905050506106b0565b60405180806020018060200180602001806020018060200186810386528b818151815260200191508051906020019060200280838360005b838110156101c65780820151818401526020810190506101ab565b5050505090500186810385528a818151815260200191508051906020019060200280838360005b838110156102085780820151818401526020810190506101ed565b50505050905001868103845289818151815260200191508051906020019060200280838360005b8381101561024a57808201518184015260208101905061022f565b50505050905001868103835288818151815260200191508051906020019060200280838360005b8381101561028c578082015181840152602081019050610271565b50505050905001868103825287818151815260200191508051906020019060200280838360005b838110156102ce5780820151818401526020810190506102b3565b505050509050019a505050505050505050505060405180910390f35b6102f2610aeb565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b610445600480360361012081101561034b57600080fd5b8101908080359060200190929190803560030b9060200190929190803560030b9060200190929190803515159060200190929190803515159060200190929190803590602001909291908035906020019092919080359060200190929190803590602001906401000000008111156103c257600080fd5b8201836020820111156103d457600080fd5b803590602001918460208302840111640100000000831117156103f657600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f820116905080830192505050505050509192919290505050610b10565b005b6104736004803603602081101561045d57600080fd5b8101908080359060200190929190505050610d27565b6040518082815260200191505060405180910390f35b6104bf6004803603604081101561049f57600080fd5b810190808035906020019092919080359060200190929190505050610d45565b005b60606000806000606060036040519080825280602002602001820160405280156104fa5781602001602082028038833980820191505090505b509450600060016000888152602001908152602001600020905080600401546040519080825280602002602001820160405280156105475781602001602082028038833980820191505090505b5091508060000160009054906101000a900460030b8660008151811061056957fe5b602002602001019060030b908160030b815250508060000160089054906101000a900460ff16156105bc576001866001815181106105a357fe5b602002602001019060030b908160030b815250506105e0565b6000866001815181106105cb57fe5b602002602001019060030b908160030b815250505b8060000160099054906101000a900460ff161561061f5760018660028151811061060657fe5b602002602001019060030b908160030b81525050610643565b60008660028151811061062e57fe5b602002602001019060030b908160030b815250505b80600201549450806001015493508060030154925060008090505b81600401548110156106a5578160050160008281526020019081526020016000205483828151811061068c57fe5b602002602001018181525050808060010191505061065e565b505091939590929450565b60608060608060606000600260008881526020019081526020016000206000015490506000809050600080831115610adf57826005026040519080825280602002602001820160405280156107145781602001602082028038833980820191505090505b509750826040519080825280602002602001820160405280156107465781602001602082028038833980820191505090505b509650826040519080825280602002602001820160405280156107785781602001602082028038833980820191505090505b509550826040519080825280602002602001820160405280156107aa5781602001602082028038833980820191505090505b50945060008091505b838210156109cf57600260008b8152602001908152602001600020600101600083815260200190815260200160002054905060006001600083815260200190815260200160002090506000600584029050828b828151811061081157fe5b602002602001019060030b908160030b815250508160000160009054906101000a900460030b8b600183018151811061084657fe5b602002602001019060030b908160030b815250508160000160049054906101000a900460030b8b600283018151811061087b57fe5b602002602001019060030b908160030b815250508160000160089054906101000a900460ff16156108d05760018b60038301815181106108b757fe5b602002602001019060030b908160030b815250506108f6565b60008b60038301815181106108e157fe5b602002602001019060030b908160030b815250505b8160000160099054906101000a900460ff16156109375760018b600483018151811061091e57fe5b602002602001019060030b908160030b8152505061095d565b60008b600483018151811061094857fe5b602002602001019060030b908160030b815250505b81600401546001860101945081600201548a858151811061097a57fe5b602002602001018181525050816001015489858151811061099757fe5b60200260200101818152505081600301548885815181106109b457fe5b602002602001018181525050505081806001019250506107b3565b826040519080825280602002602001820160405280156109fe5781602001602082028038833980820191505090505b5094506000809050600092505b84831015610adc57600260008c815260200190815260200160002060010160008481526020019081526020016000205491506000600160008481526020019081526020016000209050806004015460001b878380600101945081518110610a6e57fe5b60200260200101818152505060008090505b8160040154811015610acd5781600501600082815260200190815260200160002054888480600101955081518110610ab457fe5b6020026020010181815250508080600101915050610a80565b50508280600101935050610a0b565b50505b50505091939590929450565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415610d1c5787600160008b815260200190815260200160002060000160006101000a81548163ffffffff021916908360030b63ffffffff16021790555086600160008b815260200190815260200160002060000160046101000a81548163ffffffff021916908360030b63ffffffff16021790555085600160008b815260200190815260200160002060000160086101000a81548160ff02191690831515021790555084600160008b815260200190815260200160002060000160096101000a81548160ff02191690831515021790555083600160008b81526020019081526020016000206001018190555082600160008b81526020019081526020016000206002018190555081600160008b8152602001908152602001600020600301819055506000600160008b815260200190815260200160002060040154905060008090505b8251811015610cfe57828181518110610cb857fe5b6020026020010151600160008d81526020019081526020016000206005016000848060010195508152602001908152602001600020819055508080600101915050610ca3565b5080600160008c815260200190815260200160002060040181905550505b505050505050505050565b60026020528060005260406000206000915090508060000154905081565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415610df15760006002600084815260200190815260200160002060000160008154809291906001019190505590508160026000858152602001908152602001600020600101600083815260200190815260200160002081905550505b505056fea265627a7a7231582092454f0a2189d48c9559559a50326b36c0d27cad3f0bcd72ad99a4150833625964736f6c63430005100032";
StoreMapContract = web3.eth.contract(abi);
web3.eth.estimateGas({data: bytecode})
StoreMap = StoreMapContract.new({
    from: web3.eth.accounts[0], 
    data: bytecode, 
    gas: '1400000',
    position:"w3511111111111",
    txtime:278000
  },function (e, contract){
    console.log(e, contract);
    if(!e){
        if(!contract.address) {
            console.log("Contract transaction send: TransactionHash: " + contract.transactionHash + " waiting to be mined...");
        } else {
            console.log("Contract mined! Address: " + contract.address);
            console.log(contract);
        }
    }
});
miner.start(1)
miner.stop()
eth.accounts[0]
miner.start(2)
miner.stop()
abi = JSON.parse('[{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"geo_maps\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"num\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"gid\",\"type\":\"uint256\"}],\"name\":\"get_onetype\",\"outputs\":[{\"internalType\":\"int32[]\",\"name\":\"feature\",\"type\":\"int32[]\"},{\"internalType\":\"bytes32\",\"name\":\"names\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"highway\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"gtype\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32[]\",\"name\":\"path\",\"type\":\"bytes32[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"}],\"name\":\"get_types\",\"outputs\":[{\"internalType\":\"int32[]\",\"name\":\"feature\",\"type\":\"int32[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"names\",\"type\":\"bytes32[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"highways\",\"type\":\"bytes32[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"gtypes\",\"type\":\"bytes32[]\"},{\"internalType\":\"bytes32[]\",\"name\":\"path\",\"type\":\"bytes32[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"gid\",\"type\":\"uint256\"},{\"internalType\":\"int32\",\"name\":\"minzoom\",\"type\":\"int32\"},{\"internalType\":\"int32\",\"name\":\"cost\",\"type\":\"int32\"},{\"internalType\":\"bool\",\"name\":\"oneway\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"building\",\"type\":\"bool\"},{\"internalType\":\"bytes32\",\"name\":\"highway\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"name\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"gtype\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32[]\",\"name\":\"path\",\"type\":\"bytes32[]\"}],\"name\":\"add_onetype\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"gid\",\"type\":\"uint256\"}],\"name\":\"add_area_line\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]')
bytecode = "0x608060405234801561001057600080fd5b50336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550610e2a806100606000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063113620ec146100675780633fb80582146101475780638da5cb5b146102ea57806397673b7f14610334578063cbf3b01e14610447578063f90e5ca914610489575b600080fd5b6100936004803603602081101561007d57600080fd5b81019080803590602001909291905050506104c1565b604051808060200186815260200185815260200184815260200180602001838103835288818151815260200191508051906020019060200280838360005b838110156100ec5780820151818401526020810190506100d1565b50505050905001838103825284818151815260200191508051906020019060200280838360005b8381101561012e578082015181840152602081019050610113565b5050505090500197505050505050505060405180910390f35b6101736004803603602081101561015d57600080fd5b81019080803590602001909291905050506106b0565b60405180806020018060200180602001806020018060200186810386528b818151815260200191508051906020019060200280838360005b838110156101c65780820151818401526020810190506101ab565b5050505090500186810385528a818151815260200191508051906020019060200280838360005b838110156102085780820151818401526020810190506101ed565b50505050905001868103845289818151815260200191508051906020019060200280838360005b8381101561024a57808201518184015260208101905061022f565b50505050905001868103835288818151815260200191508051906020019060200280838360005b8381101561028c578082015181840152602081019050610271565b50505050905001868103825287818151815260200191508051906020019060200280838360005b838110156102ce5780820151818401526020810190506102b3565b505050509050019a505050505050505050505060405180910390f35b6102f2610aeb565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b610445600480360361012081101561034b57600080fd5b8101908080359060200190929190803560030b9060200190929190803560030b9060200190929190803515159060200190929190803515159060200190929190803590602001909291908035906020019092919080359060200190929190803590602001906401000000008111156103c257600080fd5b8201836020820111156103d457600080fd5b803590602001918460208302840111640100000000831117156103f657600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f820116905080830192505050505050509192919290505050610b10565b005b6104736004803603602081101561045d57600080fd5b8101908080359060200190929190505050610d27565b6040518082815260200191505060405180910390f35b6104bf6004803603604081101561049f57600080fd5b810190808035906020019092919080359060200190929190505050610d45565b005b60606000806000606060036040519080825280602002602001820160405280156104fa5781602001602082028038833980820191505090505b509450600060016000888152602001908152602001600020905080600401546040519080825280602002602001820160405280156105475781602001602082028038833980820191505090505b5091508060000160009054906101000a900460030b8660008151811061056957fe5b602002602001019060030b908160030b815250508060000160089054906101000a900460ff16156105bc576001866001815181106105a357fe5b602002602001019060030b908160030b815250506105e0565b6000866001815181106105cb57fe5b602002602001019060030b908160030b815250505b8060000160099054906101000a900460ff161561061f5760018660028151811061060657fe5b602002602001019060030b908160030b81525050610643565b60008660028151811061062e57fe5b602002602001019060030b908160030b815250505b80600201549450806001015493508060030154925060008090505b81600401548110156106a5578160050160008281526020019081526020016000205483828151811061068c57fe5b602002602001018181525050808060010191505061065e565b505091939590929450565b60608060608060606000600260008881526020019081526020016000206000015490506000809050600080831115610adf57826005026040519080825280602002602001820160405280156107145781602001602082028038833980820191505090505b509750826040519080825280602002602001820160405280156107465781602001602082028038833980820191505090505b509650826040519080825280602002602001820160405280156107785781602001602082028038833980820191505090505b509550826040519080825280602002602001820160405280156107aa5781602001602082028038833980820191505090505b50945060008091505b838210156109cf57600260008b8152602001908152602001600020600101600083815260200190815260200160002054905060006001600083815260200190815260200160002090506000600584029050828b828151811061081157fe5b602002602001019060030b908160030b815250508160000160009054906101000a900460030b8b600183018151811061084657fe5b602002602001019060030b908160030b815250508160000160049054906101000a900460030b8b600283018151811061087b57fe5b602002602001019060030b908160030b815250508160000160089054906101000a900460ff16156108d05760018b60038301815181106108b757fe5b602002602001019060030b908160030b815250506108f6565b60008b60038301815181106108e157fe5b602002602001019060030b908160030b815250505b8160000160099054906101000a900460ff16156109375760018b600483018151811061091e57fe5b602002602001019060030b908160030b8152505061095d565b60008b600483018151811061094857fe5b602002602001019060030b908160030b815250505b81600401546001860101945081600201548a858151811061097a57fe5b602002602001018181525050816001015489858151811061099757fe5b60200260200101818152505081600301548885815181106109b457fe5b602002602001018181525050505081806001019250506107b3565b826040519080825280602002602001820160405280156109fe5781602001602082028038833980820191505090505b5094506000809050600092505b84831015610adc57600260008c815260200190815260200160002060010160008481526020019081526020016000205491506000600160008481526020019081526020016000209050806004015460001b878380600101945081518110610a6e57fe5b60200260200101818152505060008090505b8160040154811015610acd5781600501600082815260200190815260200160002054888480600101955081518110610ab457fe5b6020026020010181815250508080600101915050610a80565b50508280600101935050610a0b565b50505b50505091939590929450565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415610d1c5787600160008b815260200190815260200160002060000160006101000a81548163ffffffff021916908360030b63ffffffff16021790555086600160008b815260200190815260200160002060000160046101000a81548163ffffffff021916908360030b63ffffffff16021790555085600160008b815260200190815260200160002060000160086101000a81548160ff02191690831515021790555084600160008b815260200190815260200160002060000160096101000a81548160ff02191690831515021790555083600160008b81526020019081526020016000206001018190555082600160008b81526020019081526020016000206002018190555081600160008b8152602001908152602001600020600301819055506000600160008b815260200190815260200160002060040154905060008090505b8251811015610cfe57828181518110610cb857fe5b6020026020010151600160008d81526020019081526020016000206005016000848060010195508152602001908152602001600020819055508080600101915050610ca3565b5080600160008c815260200190815260200160002060040181905550505b505050505050505050565b60026020528060005260406000206000915090508060000154905081565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415610df15760006002600084815260200190815260200160002060000160008154809291906001019190505590508160026000858152602001908152602001600020600101600083815260200190815260200160002081905550505b505056fea265627a7a7231582092454f0a2189d48c9559559a50326b36c0d27cad3f0bcd72ad99a4150833625964736f6c63430005100032";
StoreMapContract = web3.eth.contract(abi);
web3.eth.estimateGas({data: bytecode})
StoreMap = StoreMapContract.new({
    from: web3.eth.accounts[0], 
    data: bytecode, 
    gas: '1400000',
    position:"w3511111111111",
    txtime:278000
  },function (e, contract){
    console.log(e, contract);
    if(!e){
        if(!contract.address) {
            console.log("Contract transaction send: TransactionHash: " + contract.transactionHash + " waiting to be mined...");
        } else {
            console.log("Contract mined! Address: " + contract.address);
            console.log(contract);
        }
    }
});
miner.start(1)
miner.stop()
miner.start(3)
miner.stop()